{% extends 'base.html' %}

{% block title %}
    NOAA Data for {{ station.name }}
{% endblock title %}

{% block style %}

{% endblock style %}

{% block content %}
    <div class="content-wrap">
        <h1>{{ station.name }} Weather Jan 2012 through Apr 2013</h1>

        <h3>Station Data:</h3>
        <ul>
            <li><strong>wban: </strong>{{ station.wban }}</li>
            <li><strong>state: </strong>{{ station.state }}</li>
            <li><strong>name: </strong>{{ station.name }}</li>
            <li><strong>location: </strong>{{ station.location }}</li>
            <li><strong>latitude: </strong>{{ station.latitude }}</li>
            <li><strong>longitude: </strong>{{ station.longitude }}</li>
            <li><strong>altitude: </strong>{{ station.altitude }}</li>
        </ul>

        <div class="graph" id="Weather"></div>

    </div>
{% endblock content %}

{% block scripts %}
    <script>
        graph = [];
        var blockRedraw = false;
        var initialized = false;
        graph.push(
            new Dygraph(
                document.getElementById("Weather"),
                "{{ 'weather-csv'|url(station.id) }}",
                {
                    rollPeriod: 1,
                    showRoller: true,
                    customBars: true,
                    title: "Hourly Temperature Data from {{ station.location }}",
                    legend: 'always',
                    labelsDivStyles: { 'textAlign': 'right' }
                }
            )
        )
    </script>
{% endblock scripts %}